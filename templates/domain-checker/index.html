<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Domain Availability Checker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f7f7f7;
    }
    input, button {
      padding: 10px;
      font-size: 16px;
    }
    #result {
      margin-top: 20px;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <h2>Check Domain Availability</h2>
  <input type="text" id="domainInput" placeholder="e.g. example.com">
  <button onclick="checkDomain()">Check</button>
  <div id="result"></div>

  <script>
    function checkDomain() {
      const domain = document.getElementById('domainInput').value.trim();
      const resultDiv = document.getElementById('result');

      if (!domain) {
        resultDiv.innerHTML = "Please enter a domain name.";
        return;
      }

      fetch('check-domain.php?domain=' + encodeURIComponent(domain))
        .then(res => res.json())
        .then(data => {
          if (!data.namesilo || !data.namesilo.reply || !data.namesilo.reply.available) {
            resultDiv.innerHTML = "Unexpected response from server.";
            return;
          }

          const status = data.namesilo.reply.available[0].available;
          resultDiv.innerHTML = status === "yes"
            ? `<strong>${domain}</strong> is <span style="color:green;">Available ✅</span>`
            : `<strong>${domain}</strong> is <span style="color:red;">Taken ❌</span>`;
        })
        .catch(error => {
          console.error(error);
          resultDiv.innerHTML = "Error checking domain.";
        });
    }
  </script>
</body>
</html>
